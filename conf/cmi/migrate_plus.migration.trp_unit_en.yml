uuid: 3dafa3d9-8e68-4817-a580-ac2d7f8f15c8
langcode: en
status: true
dependencies:
  enforced:
    module:
      - helfi_trp
id: trp_unit_en
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags: null
migration_group: trp
label: 'TRP unit (en)'
source:
  plugin: url
  urls: 'https://www.hel.fi/palvelukarttaws/rest/v4/unit/'
  data_fetcher_plugin: http
  data_parser_plugin: trp_unit_json
  item_selector: 0
  fields:
    -
      name: id
      label: ID
      selector: /id
    -
      name: name
      label: Name
      selector: /name_en
  ids:
    id:
      type: string
process:
  id:
    plugin: migration_lookup
    source: id
    migration: trp_unit
  name:
    plugin: substr
    source: name
    start: 0
    length: 255
  content_translation_source:
    plugin: default_value
    default_value: fi
  langcode:
    plugin: default_value
    default_value: en
  latitude: latitude
  longitude: longitude
  phone: phone
  call_charge_info: call_charge_info_en
  email: email
destination:
  plugin: 'entity:trp_unit'
  translations: true
migration_dependencies:
  required:
    - trp_unit
